# ü§ù **Gu√≠a de Contribuci√≥n**

¬°Gracias por tu inter√©s en contribuir al proyecto **Calendario de Gastos y Quinielas**! üéâ

Esta gu√≠a te ayudar√° a comenzar y asegurar que tus contribuciones sean valiosas y est√©n alineadas con los objetivos del proyecto.

## üìã **Tabla de Contenidos**

- [üöÄ Inicio R√°pido](#-inicio-r√°pido)
- [üåø Tipos de Contribuci√≥n](#-tipos-de-contribuci√≥n)
- [üîß Configuraci√≥n del Entorno](#-configuraci√≥n-del-entorno)
- [üìù Est√°ndares de C√≥digo](#-est√°ndares-de-c√≥digo)
- [üêõ Reportar Bugs](#-reportar-bugs)
- [üí° Sugerir Funcionalidades](#-sugerir-funcionalidades)
- [üîÄ Pull Request Process](#-pull-request-process)
- [üèÜ Reconocimientos](#-reconocimientos)

## üöÄ **Inicio R√°pido**

### **1. Fork del Proyecto**
```bash
# 1. Haz fork desde GitHub UI
# 2. Clona tu fork
git clone https://github.com/TU-USUARIO/calendario-gastos-quinielas.git
cd calendario-gastos-quinielas

# 3. Configura el remoto upstream
git remote add upstream https://github.com/USUARIO-ORIGINAL/calendario-gastos-quinielas.git
```

### **2. Configurar Entorno de Desarrollo**
```bash
# Instalar dependencias del frontend
npm install

# Configurar backend
cd backend
cp .env.example .env
# Editar .env con tus credenciales de MySQL
npm install

# Crear base de datos de desarrollo
mysql -u root -p
CREATE DATABASE calendario_gastos_dev;
exit

# Ejecutar migraciones
node reset-database.js

# Iniciar backend
npm run dev
```

```bash
# En otra terminal, iniciar frontend
cd ..
npm run dev
```

### **3. Crear Branch de Feature**
```bash
# Crear branch descriptivo
git checkout -b feature/nombre-descriptivo

# Ejemplos de nombres v√°lidos:
git checkout -b feature/add-expense-categories
git checkout -b fix/calendar-display-bug
git checkout -b docs/update-installation-guide
git checkout -b refactor/auth-middleware
```

## üåø **Tipos de Contribuci√≥n**

### **üêõ Bug Fixes**
- Correcci√≥n de errores de funcionamiento
- Mejoras de rendimiento
- Fixes de compatibilidad entre navegadores
- Correcciones de seguridad

**Ejemplos:**
- Calendario no muestra d√≠as correctamente
- Error al guardar transacciones
- Problemas de autenticaci√≥n
- Vulnerabilidades de seguridad

### **‚ú® Nuevas Funcionalidades**
- Nuevas categor√≠as de gastos
- Mejoras de UI/UX
- Nuevos tipos de quinielas
- Funcionalidades de exportaci√≥n

**Ejemplos:**
- Exportar datos a Excel/PDF
- Dashboard con gr√°ficos
- Notificaciones autom√°ticas
- Tema oscuro/claro

### **üìö Documentaci√≥n**
- Mejoras en documentaci√≥n existente
- Documentaci√≥n de APIs
- Gu√≠as de usuario
- Tutoriales y ejemplos

**Ejemplos:**
- Completar documentaci√≥n de endpoints
- Crear gu√≠a de deployment
- Documentar componentes React
- Agregar ejemplos de uso

### **üß™ Testing**
- Pruebas unitarias para componentes
- Pruebas de integraci√≥n de APIs
- Pruebas end-to-end
- Cobertura de c√≥digo

**Ejemplos:**
- Tests para componentes React
- Tests para endpoints de API
- Tests de flujos de usuario
- Configuraci√≥n de CI/CD

### **üé® Mejoras de Dise√±o**
- Mejoras visuales y UX
- Responsive design
- Accesibilidad (a11y)
- Optimizaci√≥n de performance

**Ejemplos:**
- Mejorar dise√±o de calendario
- Optimizar carga de componentes
- Agregar indicadores de estado
- Mejorar contraste y legibilidad

## üîß **Configuraci√≥n del Entorno**

### **Prerrequisitos**
```bash
# Verificar versiones m√≠nimas
node --version    # >= 18.0.0
npm --version     # >= 8.0.0
mysql --version   # >= 8.0.0
git --version     # >= 2.30.0
```

### **Variables de Entorno de Desarrollo**
```bash
# backend/.env (desarrollo)
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=tu_password
DB_NAME=calendario_gastos_dev
JWT_SECRET=desarrollo_secreto_super_largo_y_seguro
PORT=3001
NODE_ENV=development
CORS_ORIGIN=http://localhost:5173

# Variables adicionales para desarrollo
LOG_LEVEL=debug
ENABLE_QUERY_LOGGING=true
```

### **Base de Datos de Desarrollo**
```sql
-- Crear DB separada para desarrollo
CREATE DATABASE calendario_gastos_dev;

-- Opcional: usuario espec√≠fico para desarrollo
CREATE USER 'dev_user'@'localhost' IDENTIFIED BY 'dev_password';
GRANT ALL PRIVILEGES ON calendario_gastos_dev.* TO 'dev_user'@'localhost';
FLUSH PRIVILEGES;
```

### **Configuraci√≥n de IDEs**

<details>
<summary>VS Code (Recomendado)</summary>

**Extensiones recomendadas:**
```json
{
  "recommendations": [
    "ms-vscode.vscode-typescript-next",
    "bradlc.vscode-tailwindcss",
    "esbenp.prettier-vscode",
    "ms-vscode.vscode-eslint",
    "formulahendry.auto-rename-tag",
    "ms-vscode.vscode-json"
  ]
}
```

**Configuraci√≥n workspace (.vscode/settings.json):**
```json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "typescript.preferences.importModuleSpecifier": "relative",
  "tailwindCSS.experimental.classRegex": [
    ["clsx\\(([^)]*)\\)", "(?:'|\"|`)([^']*)(?:'|\"|`)"],
    ["cn\\(([^)]*)\\)", "(?:'|\"|`)([^']*)(?:'|\"|`)"]
  ]
}
```

</details>

<details>
<summary>WebStorm/IntelliJ</summary>

**Configuraciones recomendadas:**
- Habilitar TypeScript service
- Configurar Prettier como formateador
- Instalar plugin de Tailwind CSS
- Habilitar ESLint

</details>

## üìù **Est√°ndares de C√≥digo**

### **Frontend (React + TypeScript)**

#### **Estructura de Componentes**
```tsx
// ‚úÖ Estructura recomendada
import { useState, useEffect } from "react";
import { ComponentProps } from "../types";
import { Button } from "./ui/button";
import { Card } from "./ui/card";

interface MyComponentProps {
  title: string;
  count: number;
  onAction: (id: string) => void;
  isLoading?: boolean;
}

export function MyComponent({ 
  title, 
  count, 
  onAction, 
  isLoading = false 
}: MyComponentProps) {
  // 1. State hooks
  const [localState, setLocalState] = useState<string>("");
  
  // 2. Effect hooks
  useEffect(() => {
    // Effect logic
  }, []);
  
  // 3. Handler functions
  const handleClick = () => {
    onAction("example-id");
  };
  
  // 4. Early returns
  if (isLoading) {
    return <div>Loading...</div>;
  }
  
  // 5. Main render
  return (
    <Card className="p-4">
      <h2>{title}</h2>
      <p>Count: {count}</p>
      <Button onClick={handleClick}>
        Action
      </Button>
    </Card>
  );
}
```

#### **Convenciones de Nombres**
```tsx
// ‚úÖ Componentes: PascalCase
export function CalendarView() {}
export function DayDetailsPanel() {}

// ‚úÖ Hooks: camelCase con prefijo 'use'
export function useCalendarData() {}
export function useApiCall() {}

// ‚úÖ Variables y funciones: camelCase
const selectedDate = new Date();
const handleDateSelect = () => {};

// ‚úÖ Constantes: UPPER_SNAKE_CASE
const MAX_RETRY_ATTEMPTS = 3;
const DEFAULT_TIMEOUT = 5000;

// ‚úÖ Tipos e interfaces: PascalCase
interface UserData {}
type ApiResponse<T> = {};
```

#### **Estilos con Tailwind CSS**
```tsx
// ‚úÖ Bueno - Clases organizadas y legibles
<div className="
  flex items-center justify-between 
  p-4 
  bg-card border border-border rounded-lg 
  hover:bg-accent transition-colors
">

// ‚úÖ Para clases muy largas, usar funci√≥n cn()
import { cn } from "../lib/utils";

<div className={cn(
  "flex items-center justify-between",
  "p-4 bg-card border border-border rounded-lg",
  "hover:bg-accent transition-colors",
  isActive && "ring-2 ring-primary",
  isDisabled && "opacity-50 cursor-not-allowed"
)}>

// ‚ùå Evitar - Clases desordenadas
<div className="p-4 flex border bg-card rounded-lg border-border items-center justify-between">
```

### **Backend (Node.js + TypeScript)**

#### **Estructura de Archivos**
```
backend/src/
‚îú‚îÄ‚îÄ routes/           # Rutas de la API
‚îÇ   ‚îú‚îÄ‚îÄ auth.ts       # Autenticaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ gastos.ts     # Gesti√≥n de gastos
‚îÇ   ‚îî‚îÄ‚îÄ quinielas.ts  # Gesti√≥n de quinielas
‚îú‚îÄ‚îÄ middleware/       # Middlewares de Express
‚îÇ   ‚îú‚îÄ‚îÄ auth.ts       # Middleware de autenticaci√≥n
‚îÇ   ‚îî‚îÄ‚îÄ validation.ts # Middleware de validaci√≥n
‚îú‚îÄ‚îÄ services/         # L√≥gica de negocio
‚îÇ   ‚îú‚îÄ‚îÄ authService.ts
‚îÇ   ‚îî‚îÄ‚îÄ gastosService.ts
‚îú‚îÄ‚îÄ models/           # Modelos de datos
‚îú‚îÄ‚îÄ utils/            # Utilidades
‚îÇ   ‚îú‚îÄ‚îÄ logger.ts
‚îÇ   ‚îî‚îÄ‚îÄ validation.ts
‚îî‚îÄ‚îÄ types/            # Tipos TypeScript
    ‚îî‚îÄ‚îÄ index.ts
```

#### **Manejo de Errores**
```typescript
// ‚úÖ Estructura recomendada para endpoints
import { asyncHandler } from '../middleware/errorHandler';

router.get('/endpoint', asyncHandler(async (req, res) => {
  try {
    const result = await someAsyncOperation();
    
    res.json({
      success: true,
      message: 'Operation successful',
      data: result
    });
  } catch (error) {
    logger.error('Error in endpoint:', error);
    throw createError('Custom error message', 400);
  }
}));
```

#### **Validaci√≥n de Datos**
```typescript
// ‚úÖ Usar Joi para validaci√≥n
import Joi from 'joi';

const createGastoSchema = Joi.object({
  monto: Joi.number().positive().max(999999.99).required(),
  categoria: Joi.string().min(1).max(50).required(),
  subcategoria: Joi.string().max(50).optional(),
  descripcion: Joi.string().max(255).optional(),
  fecha: Joi.string().pattern(/^\d{4}-\d{2}-\d{2}$/).required()
});

// Usar en endpoints
const validatedData = validateData(createGastoSchema, req.body);
```

### **Git y Control de Versiones**

#### **Commit Messages**
```bash
# ‚úÖ Formato: tipo(scope): descripci√≥n breve
feat(calendar): add month navigation functionality
fix(api): resolve 404 error in quinielas endpoint
docs(readme): update installation instructions
style(ui): improve button hover states
test(auth): add login validation tests
refactor(components): extract calendar logic to custom hook

# Tipos permitidos:
# feat: nueva funcionalidad
# fix: correcci√≥n de bug
# docs: cambios en documentaci√≥n
# style: cambios de formato/estilo (no afectan l√≥gica)
# refactor: refactoring de c√≥digo (no cambia funcionalidad)
# test: agregar o modificar tests
# chore: tareas de mantenimiento, configuraci√≥n, etc.

# ‚úÖ Para cambios grandes, agregar descripci√≥n
feat(quinielas): add configurable schedules

- Add modal for configuring quinela schedules
- Store custom schedules in database
- Update status calculation to use custom schedules
- Add validation for schedule conflicts

Closes #123
```

#### **Branch Naming**
```bash
# ‚úÖ Formato: tipo/descripci√≥n-breve-en-kebab-case
feature/expense-categories
feature/export-to-excel
fix/calendar-display-bug
fix/auth-token-expiration
docs/update-readme
docs/api-documentation
hotfix/critical-security-issue
refactor/auth-middleware
test/add-component-tests
```

## üêõ **Reportar Bugs**

### **Antes de Reportar**
1. ‚úÖ **Buscar issues existentes** - Evita duplicados
2. ‚úÖ **Verificar versi√≥n** - Aseg√∫rate de usar la √∫ltima versi√≥n
3. ‚úÖ **Reproducir el bug** - Confirma que es consistente
4. ‚úÖ **Probar en modo inc√≥gnito** - Elimina extensiones como causa
5. ‚úÖ **Revisar logs** - Backend y navegador

### **Template de Bug Report**
```markdown
---
name: Bug Report
about: Reportar un error o comportamiento inesperado
title: '[BUG] Descripci√≥n breve del problema'
labels: bug
assignees: ''
---

## üêõ **Descripci√≥n del Bug**
[Descripci√≥n clara y concisa del problema]

## üîÑ **Pasos para Reproducir**
1. Ir a [p√°gina espec√≠fica]
2. Hacer click en [elemento espec√≠fico]
3. Llenar formulario con [datos espec√≠ficos]
4. Ver error

## ‚úÖ **Comportamiento Esperado**
[Descripci√≥n de lo que deber√≠a pasar]

## ‚ùå **Comportamiento Actual**
[Descripci√≥n de lo que est√° pasando realmente]

## üì∏ **Screenshots**
[Si aplica, agregar capturas de pantalla]

## üñ•Ô∏è **Entorno**
- **OS:** [Windows 11 / macOS Ventura / Ubuntu 22.04]
- **Browser:** [Chrome 119 / Firefox 118 / Safari 16]
- **Node.js:** [18.17.0]
- **MySQL:** [8.0.33]
- **Frontend URL:** [http://localhost:5173]
- **Backend URL:** [http://localhost:3001]

## üìã **Logs Relevantes**

### Frontend (Console)
\`\`\`
[Pegar errores de la consola del navegador]
\`\`\`

### Backend (Terminal)
\`\`\`
[Pegar errores del backend]
\`\`\`

## üîç **Informaci√≥n Adicional**
- ¬øOcurre solo en d√≠as espec√≠ficos? [S√≠/No]
- ¬øFunciona con usuario demo? [S√≠/No]
- ¬øEs problema intermitente? [S√≠/No]
```

## üí° **Sugerir Funcionalidades**

### **Template de Feature Request**
```markdown
---
name: Feature Request
about: Sugerir una nueva funcionalidad o mejora
title: '[FEATURE] Descripci√≥n breve de la funcionalidad'
labels: enhancement
assignees: ''
---

## üí° **Descripci√≥n de la Funcionalidad**
[Descripci√≥n clara y detallada de la funcionalidad propuesta]

## üéØ **Problema que Resuelve**
[Qu√© problema o necesidad espec√≠fica resuelve esta funcionalidad]

## üõ†Ô∏è **Soluci√≥n Propuesta**
[Descripci√≥n detallada de c√≥mo implementar√≠as la funcionalidad]

### Mockups/Wireframes
[Si tienes dise√±os visuales, incl√∫yelos aqu√≠]

### Casos de Uso
1. **Como** usuario administrador **quiero** [funcionalidad] **para** [beneficio]
2. **Como** usuario final **quiero** [funcionalidad] **para** [beneficio]

## üîÑ **Alternativas Consideradas**
[Otras alternativas que consideraste y por qu√© las descartaste]

## üìã **Informaci√≥n Adicional**
- **Prioridad:** [Alta/Media/Baja]
- **Complejidad estimada:** [Baja/Media/Alta]
- **¬øRompe compatibilidad?** [S√≠/No]

## ‚úÖ **Definici√≥n de Terminado**
- [ ] Funcionalidad implementada y probada
- [ ] Tests unitarios agregados
- [ ] Documentaci√≥n actualizada
- [ ] No rompe funcionalidad existente
```

## üîÄ **Pull Request Process**

### **Pre-PR Checklist**
```bash
# ‚úÖ 1. Actualizar con main
git checkout main
git pull upstream main
git checkout feature/mi-branch
git merge main

# ‚úÖ 2. Tests pasando
npm run test
cd backend && npm run test

# ‚úÖ 3. Linting limpio
npm run lint
npm run format

# ‚úÖ 4. Build exitoso
npm run build
cd backend && npm run build

# ‚úÖ 5. Tipos TypeScript correctos
npm run type-check
cd backend && npm run type-check

# ‚úÖ 6. Verificar funcionalidad localmente
# - Probar cambios en navegador
# - Verificar que no rompe funcionalidad existente
# - Probar edge cases
```

### **Template de Pull Request**
```markdown
## üìã **Resumen**
[Descripci√≥n clara y concisa de los cambios realizados]

### Cambios Principales
- [Cambio 1]
- [Cambio 2]
- [Cambio 3]

## üîÑ **Tipo de Cambio**
- [ ] üêõ Bug fix (non-breaking change que arregla un issue)
- [ ] ‚ú® Nueva funcionalidad (non-breaking change que agrega funcionalidad)
- [ ] üíî Breaking change (fix o feature que causar√≠a que funcionalidad existente no funcione como se espera)
- [ ] üìö Documentaci√≥n (cambios solo en documentaci√≥n)
- [ ] üß™ Tests (agregar tests faltantes o corregir tests existentes)
- [ ] üîß Chore (cambios de configuraci√≥n, dependencias, etc.)

## üîó **Issues Relacionados**
Closes #[n√∫mero]
Fixes #[n√∫mero]
Related to #[n√∫mero]

## üß™ **Testing**
- [ ] Tests unitarios agregados/actualizados
- [ ] Tests de integraci√≥n agregados/actualizados
- [ ] Probado manualmente en navegador
- [ ] Probado con diferentes usuarios
- [ ] Probado edge cases

### Escenarios de Prueba
1. **Escenario 1:** [Descripci√≥n del test]
   - Resultado esperado: [resultado]
   - ‚úÖ Funciona correctamente

2. **Escenario 2:** [Descripci√≥n del test]
   - Resultado esperado: [resultado]
   - ‚úÖ Funciona correctamente

## üì∏ **Screenshots/Videos** (si aplica)

### Antes
[Screenshot del estado anterior]

### Despu√©s
[Screenshot del estado nuevo]

## üîç **Informaci√≥n T√©cnica**

### Archivos Modificados
- `components/ComponenteName.tsx` - [Descripci√≥n de cambios]
- `backend/src/routes/endpoint.ts` - [Descripci√≥n de cambios]

### Dependencias
- [ ] Se agregaron nuevas dependencias
- [ ] Se actualizaron dependencias existentes
- [ ] No hay cambios en dependencias

### Base de Datos
- [ ] Se requieren migraciones
- [ ] No hay cambios en BD
- [ ] Solo cambios compatibles

## üìã **Checklist del Developer**
- [ ] Mi c√≥digo sigue las convenciones del proyecto
- [ ] He realizado una auto-revisi√≥n de mi c√≥digo
- [ ] He a√±adido comentarios explicativos donde es necesario
- [ ] He actualizado la documentaci√≥n correspondiente
- [ ] Mis cambios no generan warnings nuevos
- [ ] He a√±adido tests que prueban mi funcionalidad
- [ ] Tests nuevos y existentes pasan localmente
- [ ] He verificado que mis cambios funcionan en diferentes navegadores

## üìã **Checklist del Reviewer**
- [ ] El c√≥digo es legible y mantenible
- [ ] Los tests cubren los casos principales
- [ ] La funcionalidad funciona como se describe
- [ ] No hay vulnerabilidades de seguridad obvias
- [ ] La documentaci√≥n es clara y precisa
```

### **Review Process**
1. **üë• Code Review**: Al menos 1 aprobaci√≥n requerida
2. **üß™ CI/CD**: Todos los tests autom√°ticos deben pasar
3. **üìù Documentation**: Documentaci√≥n actualizada si es necesario
4. **üîß Manual Testing**: Reviewer debe probar los cambios
5. **üîÄ Merge Strategy**: Squash and merge preferido para features

## üéØ **Prioridades Actuales del Proyecto**

### **üî• Alta Prioridad**
- [ ] **Performance**: Optimizaci√≥n de carga del calendario
- [ ] **Testing**: Cobertura de tests automatizados
- [ ] **Documentation**: Documentaci√≥n completa de APIs
- [ ] **Security**: Auditor√≠a de seguridad y vulnerabilidades
- [ ] **Accessibility**: Cumplimiento WCAG 2.1

### **‚≠ê Media Prioridad**
- [ ] **Features**: Nuevas categor√≠as de gastos personalizables
- [ ] **Export**: Funcionalidad de exportar a Excel/PDF
- [ ] **Dashboard**: Gr√°ficos y reportes visuales
- [ ] **Mobile**: Mejoras de responsive design
- [ ] **Notifications**: Sistema de notificaciones

### **üí° Baja Prioridad**
- [ ] **Theming**: Sistema de temas personalizables
- [ ] **PWA**: Convertir a Progressive Web App
- [ ] **Mobile App**: Aplicaci√≥n m√≥vil nativa
- [ ] **Integrations**: APIs de terceros (bancos, etc.)
- [ ] **Advanced Analytics**: Machine learning para predicciones

## üèÜ **Reconocimientos**

Los contribuidores ser√°n reconocidos de las siguientes maneras:

### **üìù Documentaci√≥n**
- **README.md**: Secci√≥n de colaboradores principales
- **CONTRIBUTORS.md**: Lista completa de contribuidores
- **Changelog**: Menciones en releases

### **üéâ Releases**
- **Release Notes**: Cr√©ditos por contribuciones importantes
- **GitHub Releases**: Menciones espec√≠ficas
- **Social Media**: Reconocimiento en redes sociales del proyecto

### **üí¨ Comunidad**
- **Discord/Slack**: Anuncios de contribuciones importantes
- **Newsletter**: Destacar contribuidores del mes
- **Blog Posts**: Art√≠culos sobre contribuciones significativas

### **üèÖ Badges y Niveles**
- **First Contribution**: Badge para primera contribuci√≥n
- **Regular Contributor**: 5+ PRs merged
- **Core Contributor**: 20+ PRs merged + reviews
- **Maintainer**: Acceso de escritura al repositorio

## üìû **Contacto y Comunidad**

### **Canales de Comunicaci√≥n**
- **üí¨ GitHub Discussions**: Para preguntas generales y discusiones
- **üêõ GitHub Issues**: Para bugs y feature requests espec√≠ficos
- **üìß Email**: [maintainer@ejemplo.com] para temas privados
- **üí¨ Discord**: [Link al servidor] para chat en tiempo real

### **Horarios de Respuesta**
- **Issues**: 1-3 d√≠as laborales
- **Pull Requests**: 2-5 d√≠as laborales
- **Preguntas Generales**: 1-7 d√≠as

### **Meetups y Eventos**
- **Monthly Contributors Call**: Primer viernes de cada mes
- **Code Review Sessions**: S√°bados seg√∫n demanda
- **Release Planning**: Antes de cada release mayor

---

<div align="center">

**¬°Gracias por contribuir al proyecto! üôè‚ú®**

Tu ayuda hace que este proyecto sea mejor para todos. üöÄ

**[‚¨ÜÔ∏è Volver arriba](#-gu√≠a-de-contribuci√≥n)**

</div>